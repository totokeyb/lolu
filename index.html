<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Today is 今天</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
            background-color: #f4f4f9;
        }
        .weather-info {
            margin-top: 20px;
        }
        .weather-info p {
            font-size: 18px;
        }
        .weather-info .temp {
            font-size: 24px;
            font-weight: bold;
        }
        img {
            width: 100px;
            height: 100px;
        }
        .random-image {
            cursor: pointer;
        }
    </style>
</head>
<body>

    <h1>Today is 今天</h1>

    <div id="date"></div>

    <!-- 星座图片和星座 -->
    <div>
        <h2>星座</h2>
        <img id="zodiac-image" src="" alt="星座图片" />
        <div id="zodiac-sign"></div>
    </div>

    <div class="random-image" id="random-image">
        <h3>点击换随机图片</h3>
        <img id="image" src="https://picsum.photos/200/300" alt="随机图片" />
    </div>

    <!-- 显示天气 -->
    <div class="weather-info" id="weather-info">
        <h2>天气情况（大连）</h2>
        <p id="temperature"></p>
        <p id="pressure"></p>
        <p id="humidity"></p>
        <p id="wind-speed"></p>
    </div>

    <script>
        // 获取当前日期
        const currentDate = new Date();
        const day = currentDate.getDate();
        const month = currentDate.getMonth() + 1;
        const year = currentDate.getFullYear();
        document.getElementById('date').innerText = `${year}年${month}月${day}日`;

        // 星座相关内容
        const zodiacSigns = {
            "摩羯座": {start: "12-22", end: "01-19", image: "https://www.astrology-zodiac-signs.com/images/capricorn.png"},
            "水瓶座": {start: "01-20", end: "02-18", image: "https://www.astrology-zodiac-signs.com/images/aquarius.png"},
            "双鱼座": {start: "02-19", end: "03-20", image: "https://www.astrology-zodiac-signs.com/images/pisces.png"},
            "白羊座": {start: "03-21", end: "04-19", image: "https://www.astrology-zodiac-signs.com/images/aries.png"},
            "金牛座": {start: "04-20", end: "05-20", image: "https://www.astrology-zodiac-signs.com/images/taurus.png"},
            "双子座": {start: "05-21", end: "06-20", image: "https://www.astrology-zodiac-signs.com/images/gemini.png"},
            "巨蟹座": {start: "06-21", end: "07-22", image: "https://www.astrology-zodiac-signs.com/images/cancer.png"},
            "狮子座": {start: "07-23", end: "08-22", image: "https://www.astrology-zodiac-signs.com/images/leo.png"},
            "处女座": {start: "08-23", end: "09-22", image: "https://www.astrology-zodiac-signs.com/images/virgo.png"},
            "天秤座": {start: "09-23", end: "10-22", image: "https://www.astrology-zodiac-signs.com/images/libra.png"},
            "天蝎座": {start: "10-23", end: "11-21", image: "https://www.astrology-zodiac-signs.com/images/scorpio.png"},
            "射手座": {start: "11-22", end: "12-21", image: "https://www.astrology-zodiac-signs.com/images/sagittarius.png"}
        };

        const zodiacDates = Object.values(zodiacSigns);
        const currentMonthDay = `${month}-${day}`;

        // 获取星座并显示对应图片
        function getZodiac() {
            for (let sign in zodiacSigns) {
                const { start, end } = zodiacSigns[sign];
                if ((currentMonthDay >= start && currentMonthDay <= end) || (currentMonthDay >= start || currentMonthDay <= end)) {
                    document.getElementById('zodiac-image').src = zodiacSigns[sign].image;
                    document.getElementById('zodiac-sign').innerText = sign;
                    break;
                }
            }
        }
        getZodiac();

        // 随机图片切换
        document.getElementById('random-image').onclick = function() {
            document.getElementById('image').src = "https://picsum.photos/200/300?" + new Date().getTime(); // 防止缓存
        }

        // 获取天气数据
        async function getWeather() {
            const city = '大连';
            const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=YOUR_API_KEY&units=metric&lang=zh_cn`;

            try {
                const response = await fetch(url);
                const weatherData = await response.json();

                const temperature = weatherData.main.temp;
                const pressure = weatherData.main.pressure;
                const humidity = weatherData.main.humidity;
                const windSpeed = weatherData.wind.speed;

                // 风速转化为风力等级和风速描述
                let windLevel = '';
                let windDescription = '';
                if (windSpeed <= 1) {
                    windLevel = '0级';
                    windDescription = '静风';
                } else if (windSpeed <= 5) {
                    windLevel = '1级';
                    windDescription = '轻风';
                } else if (windSpeed <= 11) {
                    windLevel = '2级';
                    windDescription = '微风';
                } else if (windSpeed <= 19) {
                    windLevel = '3级';
                    windDescription = '和风';
                } else if (windSpeed <= 28) {
                    windLevel = '4级';
                    windDescription = '清风';
                } else if (windSpeed <= 38) {
                    windLevel = '5级';
                    windDescription = '强风';
                } else {
                    windLevel = '6级及以上';
                    windDescription = '大风';
                }

                // 显示天气信息
                document.getElementById('temperature').innerText = `温度: ${temperature}°C`;
                document.getElementById('pressure').innerText = `气压: ${pressure} hPa`;
                document.getElementById('humidity').innerText = `湿度: ${humidity}%`;
                document.getElementById('wind-speed').innerText = `风速: ${windSpeed} km/h (${windLevel} - ${windDescription})`;
            } catch (error) {
                console.error('获取天气数据失败', error);
            }
        }
        getWeather();
    </script>

</body>
</html>
